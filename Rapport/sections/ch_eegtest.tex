\chapter{Test on EEG measurements}
Through this chapter a modification of the main algorithm will be described such that the main algorithm can handled real EEG measurements. 

For verification of the results the MSE values achieved from the EEG measurements will be compared to MSE values achieved from the use of ICA, cf. appendix. This would include some preprocessing of the used EEG measurements.

At last, from the observed results of the comparison a conclusion will close this chapter.

\section{Data Description}
The data set of interest in this chapter consist of real EEG scalp measurements which has been provided for this thesis. The EEG scalp measurements are achieved from a experiment with a EEG cap where the test person was closing and opening his/her eyes. For the experiment a cap with $M = 27$ sensors has been used to measure the mixing of sources over a period of XX seconds. The data set then only consist of the measurement matrix $\mathbf{Y} \in \mathbb{R}$ and not the source matrix and mixing matrix as the data sets described in chapter \ref{ch:implementation}.



\begin{itemize}
\item S1\_Cclean is clean data for the forst subject for closed-yeys condition
\item 27 channels with names and position in EEG.chanlocs structure 
\item Preprocessed: The data is bandpass filtered between 1 and 40 Hz. Then decomposed by ICA and the independent components related to eye activity was removed.
\item S1\_Cclean is divided into 144 segments (0ne second long), with 27 sensor and 515 samples each (144 x 27 x 515).  X is found from ICA and is of size 144 x 27 x 513. X\_nonzero is X from ICA consisting of only active sources (144 x k x 513) where k is different for each segment (k is 144 long). The nonzero values if found from a tolerance of 10E-03 and -10E-03 such that at box around zero is equal to zero while the rests keep their original values (k). This is done by look at the average of one row and compared to the tolerance.
\end{itemize}
\section{Implementing of Baseline Algorithm}
\begin{itemize}
\item Removing Cov-DL and replace it with a random A
\item M is known but not N(k)
\end{itemize}

\section{Test on EEG Data Set}
To investigate the performance of the main algorithm on real EEG measurements a comparison which the ICA algorithm will be conducted. For this comparison three cases will be investigated: $M = N$, $M < N$ with a third of the sensors removed, $M << N$ with every second sensor removed. All three cases MSE values of the main algorithm will be compared to the same MSE values from the ICA algorithm when $M=N$.

First, a description of how the MSE values from the ICA algorithm is found from the EEG measurement data set.
The ICA algorithm take the measurement matrix $\mathbf{Y}_s \in \mathbb{R}^{M \times L_s}$ for each segment $s$ as input and produced a source matrix $\mathbf{X}_s \in \mathbb{R}^{N \times L_s}$ for each segment $s$. Remember that the number of sensors equal the number of sources, $M = N$, but as mentioned in chapter XX, the case of interest are the active sources $k$, and by that $N = k$. 
For each source matrix $\mathbf{X}_s$ one need to find the $k$ active sources but it is not as easy as one may have though. Each entries of the sources matrix are to small to be detected from being active (non-zero) or being non-active (zeros).
Instead a tolerance is defined for which values less will be determined as zeros. As the source matrices have positive and negative values a tolerance interval, an interval around zero, must be made. Let the tolerance be defined as tol = $[10E-03, -10E-03]$ where values inside this interval is set equal to zero.
A problem occur in form of the stationarity of the sources as described in the motivation chapter \ref{ch:} sources are stationary if you look at small enough interval. For one second interval this is not the case with our EEG measurements and one can therefore not have a entire row (source) which laid the tolerance interval. One could decrease the length of the segments but one must also take in mind that smaller segments lead to more segments and therefore a higher computational complexity. Instead an average is introduced. For each rows (the sources) of each segments will be average such that one source is resembled by one average value. This average value will then be compared to the interval. If the value laid inside the tolerance interval, the whole row will be set equal to zero. The sources in each segments equal to zero are removed and the source matrix will now be of size $\mathbf{X}_s \in \mathbb{R}^{k \times L_s}$.

As mentioned only the sensors $M$ is known from the EEG measurement data sets but with the source matrices achieved from the ICA algorithm $k$ is now known for each segment. One now have all the information need to used the main algorithm on the EEG measurement data sets. 

\input{sections/ch_eegtest/test.tex}

\section{Conclusion}